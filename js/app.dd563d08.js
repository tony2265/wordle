(function(){"use strict";var t={15:function(t,s,i){var e=i(144),r=i(726),a=i(381),o=i(828),n=i(816),l=i(255),c=i(24),d=i(643),u=i(88),h=i(102),p=i(894),m=i(741),_=i(536),x=i(756),f=i(600),v=i(731),y=i(70),b=function(){var t=this,s=t._self._c;return s(r.Z,[[[s(f.Z,{attrs:{centered:"","icons-and-text":"",dark:"","background-color":"grey darken-3"},model:{value:t.tabs,callback:function(s){t.tabs=s},expression:"tabs"}},[s(v.Z),s(x.Z,[t._v(" 成智語典"),s(u.Z,[t._v("mdi-school")])],1),s(x.Z,[t._v(" 歷史紀錄"),s(u.Z,[t._v("mdi-clipboard-text-clock")])],1),s(x.Z,[t._v(" 成就統計"),s(u.Z,[t._v("mdi-star-box-multiple")])],1)],1)],0==t.tabs?s(h.Z,[s(p.Z,{staticClass:"mx-10 pb-2"},[s(c.Z,{staticClass:"text-center",attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField0",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[0]?null:t.displayedWords[t.words[0]+0]},on:{input:function(s){return t.updateWord(0,s)}}})],1),s(c.Z,{attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField1",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[1]?null:t.displayedWords[t.words[1]+7]},on:{input:function(s){return t.updateWord(1,s)}}})],1),s(c.Z,{attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField2",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[2]?null:t.displayedWords[t.words[2]+14]},on:{input:function(s){return t.updateWord(2,s)}}})],1),s(c.Z,{attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField3",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[3]?null:t.displayedWords[t.words[3]+21]},on:{input:function(s){return t.updateWord(3,s)}}})],1)],1),s(p.Z,{staticClass:"pb-4",attrs:{justify:"space-around"}},[s("p",[t._v("猜測次數 : "+t._s(t.guessCount))])]),s(p.Z,{staticClass:"pb-6",attrs:{align:"center",justify:"center"}},t._l(4,(function(i){return s(c.Z,{key:"col-"+i,staticClass:"d-flex flex-column align-center py-1 col-12"},[s(o.Z,{model:{value:t.words[i-1],callback:function(s){t.$set(t.words,i-1,s)},expression:"words[colIndex - 1]"}},t._l(7,(function(e){return s(a.Z,{key:"row-"+e,attrs:{color:t.getColor(i-1,e-1),disabled:t.shouldDisable(i-1,e-1)},on:{click:function(s){return t.btn_main_click(i-1,e-1)}}},[t._v(" "+t._s(t.displayedWords[e-1+7*(i-1)])+" ")])})),1)],1)})),1),s(p.Z,{staticClass:"pt-1",attrs:{justify:"space-around"}},[s(a.Z,{on:{click:t.btn_clear}},[s(u.Z,[t._v("mdi-close-thick")]),t._v("清除 ")],1),s(a.Z,{attrs:{color:"primary"},on:{click:t.btn_check}},[s(u.Z,[t._v("mdi-check-bold")]),t._v("送出 ")],1)],1),s(m.Z,{scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[s(a.Z,t._b({attrs:{color:"pink",text:""},on:{click:function(s){t.snackbar_air=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}],null,!1,1242186539),model:{value:t.snackbar_air,callback:function(s){t.snackbar_air=s},expression:"snackbar_air"}},[t._v(" 請確保所有選項都已選擇！ ")]),s(m.Z,{scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[s(a.Z,t._b({attrs:{color:"pink",text:""},on:{click:function(s){t.snackbar_err=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}],null,!1,1975747252),model:{value:t.snackbar_err,callback:function(s){t.snackbar_err=s},expression:"snackbar_err"}},[t._v(" 答案錯誤! 再接再厲! ")]),s(d.Z,{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[s(n.Z,[s(l.ZB,[s("div",{staticClass:"py-3 teal--text text--lighten-2"},[t._v("恭喜答對")]),s("p",{staticClass:"text-h5 text--primary"},[s("b",[t._v(" "+t._s(t.correctIdiom))])]),s("div",{staticClass:"text--primary"},[t._v(" "+t._s(t.correctExplanation)+" ")])]),s(l.h7,[s(_.Z),s(a.Z,{attrs:{color:"primary",text:""},on:{click:t.func_reset}},[t._v("下一題")])],1)],1)],1),s(d.Z,{attrs:{"max-width":"290"},model:{value:t.win,callback:function(s){t.win=s},expression:"win"}},[s(n.Z,[s(l.ZB,[s("div",{staticClass:"py-3 teal--text text--lighten-2"},[t._v("恭喜全解")])]),s(l.h7,[s(_.Z),s(a.Z,{attrs:{color:"primary",text:""},on:{click:function(s){t.win=!t.win}}},[t._v("重置系統")])],1)],1)],1)],1):t._e(),1==t.tabs?s(h.Z,[[0==t.history.length?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("尚未留下紀錄")])]),s("div",{staticClass:"text--primary"},[t._v("快去成智語典練習吧!")])])],1):t._e(),s(p.Z,{staticClass:"px-5"},t._l(t.reversedHistory,(function(i){return s(c.Z,{attrs:{cols:"12",md:"4",lg:"3"}},[s(n.Z,{staticClass:"mx-auto py-1",attrs:{"max-width":"344"}},[s(l.ZB,[s("div",[t._v(t._s(i.time))]),s("p",{staticClass:"text-h5 text--primary pt-3"},[s("b",[t._v(t._s(i.idiom))])]),s("p",[t._v("猜測次數 : "+t._s(i.guessCount))]),s("div",{staticClass:"text--primary"},[t._v(" "+t._s(i.explanation)+" ")])])],1)],1)})),1)]],2):t._e(),2==t.tabs?s(h.Z,[s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("統計資料")])]),s("div",{staticClass:"text--primary"},[t._v(" 已練習成語 : "+t._s(t.history.length)),s("br"),t._v(" 總成語數量 : "+t._s(t.idioms.length)+" ")])])],1),0==t.history.length?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("尚未取得成就")])]),s("div",{staticClass:"text--primary"},[t._v("快去成智語典練習吧!")])])],1):t._e(),t.history.length>=100?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("百折不撓")])]),s("div",{staticClass:"text--primary"},[t._v("成功完成100題")])])],1):t._e(),t.history.length>=30?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("韋編三絕")])]),s("div",{staticClass:"text--primary"},[t._v("成功完成30題")])])],1):t._e(),t.history.length>=10?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("聞一知十")])]),s("div",{staticClass:"text--primary"},[t._v("成功完成10題")])])],1):t._e(),t.history.length>=3?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("舉一反三")])]),s("div",{staticClass:"text--primary"},[t._v("成功完成3題")])])],1):t._e(),t.history.length>=1?s(n.Z,{staticClass:"mx-auto",attrs:{"max-width":""}},[s(l.ZB,[s("p",{staticClass:"text-h5 text--primary pt-0"},[s("b",[t._v("初出茅廬")])]),s("div",{staticClass:"text--primary"},[t._v("成功完成1題")])])],1):t._e()],1):t._e()]],2)},Z=[],g={name:"App",data(){return{tabs:null,words:[null,null,null,null],snackbar_air:!1,snackbar_err:!1,dialog:!1,win:!1,randomWords:["心","馬","龍","月","風","花","海","雲","木","火","山","石","水","虎","鳥","魚","龜","蛇","蝶","象","狗","貓","猴","兔","雁","梅","竹","菊","蘭","桃","歌","舞","笑","泣","夢","愛","思","慧","勇","忠","誠","孝","仁","義","禮","智","信","和","平","容"],displayedWords:Array(28).fill(null),word_ans:"",expl_ans:"",correctIdiom:"",correctExplanation:"",guessCount:0,num_ans:[],locked:[!1,!1,!1,!1],errorChoices:[],idioms:[],explanations:[],correctIdioms:[],history:[],once:!1}},methods:{btn_main_click(t,s){"green"==this.getColor(t,s)&&console.log("green")},btn_check(){const t=this.words.some((t=>null==t||0==t.length));if(t)this.snackbar_air=!0;else{this.words.forEach(((t,s)=>{t==this.num_ans[s]?this.$refs[`wordTextField${s}`].value=this.word_ans[s]:this.$refs[`wordTextField${s}`].value=""})),0==this.once&&(this.guessCount+=1);const t=this.words.every(((t,s)=>t===this.num_ans[s]));t?(0==this.once&&(this.once=!0),console.log("所有值都正確！"),this.correctIdiom=this.word_ans,this.correctExplanation=this.expl_ans,this.dialog=!0):(this.$nextTick((()=>{this.words.forEach(((t,s)=>{t==this.num_ans[s]?this.locked[s]=!0:(this.errorChoices.push(t+7*s),this.words[s]=null)}))})),this.snackbar_err=!0,console.log("至少有一個值不正確。"))}},btn_clear(){this.words=[null,null,null,null]},func_reset(){this.dialog=!1,this.btn_clear(),this.locked=[!1,!1,!1,!1],this.history.push({idiom:this.correctIdiom,explanation:this.correctExplanation,guessCount:this.guessCount,time:(new Date).toLocaleString()}),this.guessCount=0,this.once=!1,this.errorChoices=[],this.history.length%100==0&&(this.win=!0,this.correctIdioms=[]);const{idiom:t,explanation:s}=this.getRandomIdiomAndExplanation();this.word_ans=t,this.expl_ans=s,this.updateDisplayedWords()},getColor(t,s){return this.word_ans[t]==this.displayedWords[s+7*t]&&this.locked[t]?"green":""},shouldDisable(t,s){const i=this.errorChoices.indexOf(s+7*t);return-1!==i||this.locked[t]&&this.displayedWords[s+7*t]!==this.word_ans[t]},updateWord(t,s){this.$set(this.num_ans,t,s)},updateDisplayedWords(){const t=new Set;for(let i=0;i<28;i++){let s,e=!1;do{s=Math.floor(Math.random()*this.randomWords.length),e=this.word_ans.includes(this.randomWords[s]);const i=Array.from(t).some((t=>t%7===s%7&&this.randomWords[t]===this.randomWords[s]));i||e||t.add(s)}while(t.size<=i);this.displayedWords[i]=this.randomWords[s]}const s=this.num_ans.map(((t,s)=>t+7*s));s.forEach(((t,s)=>{this.displayedWords[t]=this.word_ans[s]}))},async fetchCSV(){try{const t="https://docs.google.com/spreadsheets/d/e/2PACX-1vS1_ZcMDgBkq5ecnyYCIymKfSE2QPloXRZiHeeMauAZid0sZ64190AK0kzKys4_Sm4_llraEVMv6s8o/pub?gid=857759911&single=true&output=csv",s=await fetch(t),i=await s.text(),e=i.split("\n").slice(1),r=e.filter((t=>""!==t));r.forEach((t=>{const[s,i]=t.split(",");this.idioms.push(s),this.explanations.push(i)}))}catch(t){console.error("Error fetching data from Google Sheets CSV:",t)}},shuffleArray(t){for(let s=t.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[t[s],t[i]]=[t[i],t[s]]}},getRandomIdiomAndExplanation(){let t,s,i;do{t=Math.floor(Math.random()*this.idioms.length),s=this.idioms[t],i=this.explanations[t]}while(this.correctIdioms.includes(s));const e=[];for(let r=0;r<4;r++){const t=Math.floor(7*Math.random());e.push(t)}return this.num_ans=e,this.shuffleArray(this.displayedWords),this.word_ans=s,this.expl_ans=i,this.displayedWords[this.num_ans[0]]=s[0],this.displayedWords[this.num_ans[1]+7]=s[1],this.displayedWords[this.num_ans[2]+14]=s[2],this.displayedWords[this.num_ans[3]+21]=s[3],this.correctIdioms.push(s),{idiom:s,explanation:i}}},async created(){await this.fetchCSV(),this.getRandomIdiomAndExplanation(),this.updateDisplayedWords()},computed:{reversedHistory(){return this.history.slice().reverse()}}},w=g,C=i(1),k=(0,C.Z)(w,b,Z,!1,null,null,null),W=k.exports,S=i(154);e.ZP.use(S.Z);var E=new S.Z({theme:{dark:!0,themes:{dark:{primary:"#30A5BF"}}}});e.ZP.config.productionTip=!1,new e.ZP({vuetify:E,render:function(t){return t(W)}}).$mount("#app")}},s={};function i(e){var r=s[e];if(void 0!==r)return r.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(s,e,r,a){if(!e){var o=1/0;for(d=0;d<t.length;d++){e=t[d][0],r=t[d][1],a=t[d][2];for(var n=!0,l=0;l<e.length;l++)(!1&a||o>=a)&&Object.keys(i.O).every((function(t){return i.O[t](e[l])}))?e.splice(l--,1):(n=!1,a<o&&(o=a));if(n){t.splice(d--,1);var c=r();void 0!==c&&(s=c)}}return s}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[e,r,a]}}(),function(){i.d=function(t,s){for(var e in s)i.o(s,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(s){return 0===t[s]};var s=function(s,e){var r,a,o=e[0],n=e[1],l=e[2],c=0;if(o.some((function(s){return 0!==t[s]}))){for(r in n)i.o(n,r)&&(i.m[r]=n[r]);if(l)var d=l(i)}for(s&&s(e);c<o.length;c++)a=o[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(d)},e=self["webpackChunkmap"]=self["webpackChunkmap"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=i.O(void 0,[998],(function(){return i(15)}));e=i.O(e)})();
//# sourceMappingURL=app.dd563d08.js.map